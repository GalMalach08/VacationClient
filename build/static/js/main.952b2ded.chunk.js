(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{280:function(e,t,a){},356:function(e,t,a){},421:function(e,t,a){},422:function(e,t,a){},423:function(e,t,a){},424:function(e,t,a){},427:function(e,t,a){},428:function(e,t,a){},438:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(17),i=a.n(c),s=a(8),o=a(52),l=a(22),d=a(9),j=a(12),u=a.n(j),b=a(21),p=a(2),h=function(e,t){return function(a){var r=Object(l.f)(),c=Object(n.useState)(!1),i=Object(s.a)(c,2),o=i[0],j=i[1],h=function(){var e=Object(b.a)(u.a.mark((function e(){var n,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/auth/isauth");case 2:return n=e.sent,e.next=5,n.json();case 5:c=e.sent,c.success?(t(!0),j(!0),"/chart"===a.match.path&&(JSON.parse(localStorage.getItem("user")).admin?console.log("auth as admin"):(console.log("not auth as admin"),r.push("/")))):(t(!1),j(!1),console.log("not auth"),r.push("/signin"));case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){h()}),[]),Object(p.jsx)(p.Fragment,{children:o?Object(p.jsx)(e,Object(d.a)({},a)):null})}},m=a(27),O=function(e){return{type:"GET_VACATIONS",payload:e}},x=function(e){return{type:"ADD_VACATION",payload:e}},f=function(e){return{type:"UPDATE_VACATION",payload:e}},g=a(36),v=a(466),y=a(233),w=a.n(y),S=(a(280),function(e){var t=e.setStepsEnabled,a=JSON.parse(localStorage.getItem("user")),r=Object(n.useState)(!0),c=Object(s.a)(r,2),i=c[0],o=c[1],l=function(){return o(!1)},d=function(){t(!0)};return Object(p.jsx)(p.Fragment,{children:Object(p.jsxs)(g.a,{show:i,onHide:l,centered:!0,backdrop:"static",keyboard:!1,children:[Object(p.jsx)(g.a.Header,{closeButton:!0,children:Object(p.jsxs)(g.a.Title,{className:"modal_title",children:[Object(p.jsxs)("div",{className:"modal_title_content",children:[" Hello ",a.username," "]})," "]})}),Object(p.jsx)(g.a.Body,{children:"Welcome to Vacation4U! the most popular vacation website in the world with more than 100 million users!"}),Object(p.jsx)(g.a.Footer,{children:Object(p.jsxs)(v.a,{variant:"outlined",color:"primary",onClick:function(){return l(),void d()},style:{margin:"auto"},children:["Let's get started! ",Object(p.jsx)(w.a,{style:{margin:"10px 10px 12"}})]})})]})})}),N=a(470),k=a(485),T=a(472),C=a(471),F=a(475),I=a(473),D=a(75),A=a.n(D),_=a(151),E=a.n(_),P=a(488),V=a(104),z=a(33),q=a(484),M=a(77),U=a(20),R=(a(356),a(170)),W=Object(N.a)((function(){return{root:{overflowY:"auto",paddingTop:"180px",marginTop:"80px",maxHeight:"500px"}}})),L=function(e){var t=e.editModalOpen,a=e.setEditModalOpen,r=e.vacationToEdit,c=Object(n.useState)(""),i=Object(s.a)(c,2),o=i[0],l=i[1],j=Object(n.useState)(""),h=Object(s.a)(j,2),O=h[0],x=h[1],y=Object(n.useState)(!1),w=Object(s.a)(y,2),S=w[0],N=w[1],D=Object(n.useState)(""),_=Object(s.a)(D,2),L=_[0],B=_[1],J=Object(n.useState)(!1),H=Object(s.a)(J,2),G=H[0],X=H[1],K=Object(n.useState)(new Date),Q=Object(s.a)(K,2),Y=Q[0],Z=Q[1],$=Object(n.useState)(new Date),ee=Object(s.a)($,2),te=ee[0],ae=ee[1],ne=Object(m.b)(),re=Object(m.c)((function(e){return e.vacations.data})),ce=W(),ie=U.a().shape({description:U.c().required("description is required").min(6,"That it? write some more(min 6 characters)"),destination:U.c().required("destination is required"),image:U.c().required("image is required"),price:U.c().required("price is required")}),se=function(e,t){return{error:!(!e.errors[t]||!e.touched[t]),helperText:e.errors[t]&&e.touched[t]?e.errors[t]:null}},oe=function(e){return Z(e)},le=function(e){return ae(e)},de=function(){a(!1),l({description:"",destination:"",start_date:"",end_date:"",price:""})},je=function(e){var t=e.split("/"),a=t[0];return t[0]=t[1],t[1]=a,t=t.join("/")},ue=function(){var e=Object(b.a)(u.a.mark((function e(){var t,a,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/vacation/".concat(r));case 2:return t=e.sent,e.next=5,t.json();case 5:a=e.sent,n=a.vacation,Z(je(n.start_date)),ae(je(n.end_date)),l(n),x(n.imageName);case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),be=function(){var e=Object(b.a)(u.a.mark((function e(t){var a,n,r,c,i,s,l,j;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return N(!0),t.image===o.image&&delete t.image,a=je(R(te).format("L")),n=je(R(Y).format("L")),e.next=6,fetch("/vacation",{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(Object(d.a)(Object(d.a)({},t),{},{start_date:n,end_date:a,imageName:O}))});case 6:return r=e.sent,e.next=9,r.json();case 9:c=e.sent,i=c.vacation,s=c.error,i?(l=re,j=re.findIndex((function(e){return e.id===i.id})),l[j]=i,console.log("after ",l),ne(f(l)),de(),N(!1)):(B(s),X(!0),N(!1));case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){t&&ue()}),[t]),Object(p.jsx)(p.Fragment,{children:o&&Object(p.jsxs)(g.a,{size:"lg",className:ce.root,centered:!0,show:t,onHide:de,children:[Object(p.jsxs)(g.a.Header,{className:"",children:[" ",Object(p.jsx)(g.a.Title,{style:{fontWeight:"700",margin:"auto"},children:" Edit vacation "})," "]}),Object(p.jsx)(g.a.Body,{children:Object(p.jsx)(M.a,{initialValues:o,onSubmit:function(e,t){var a=t.resetForm;return be(e,a)},validationSchema:ie,enableReinitialize:!0,children:function(e){return Object(p.jsxs)("form",{style:{textAlign:"center"},onSubmit:e.handleSubmit,autoComplete:"off",children:[Object(p.jsx)(k.a,Object(d.a)(Object(d.a)({margin:"normal",name:"destination",label:"Destination",variant:"outlined",fullWidth:!0},e.getFieldProps("destination")),se(e,"destination"))),Object(p.jsx)(k.a,Object(d.a)(Object(d.a)({margin:"normal",name:"description",label:"Description",variant:"outlined",fullWidth:!0},e.getFieldProps("description")),se(e,"description"))),Object(p.jsx)(k.a,Object(d.a)(Object(d.a)({margin:"normal",name:"price",label:"Price",variant:"outlined",fullWidth:!0},e.getFieldProps("price")),se(e,"price"))),Object(p.jsx)(T.a,{item:!0,xs:6,children:Object(p.jsxs)(z.a,{utils:V.a,children:[Object(p.jsx)(q.a,{style:{margin:"3px 22px 12px 0px"},label:"start date",format:"dd/MM/yyyy",value:Y,onChange:oe}),Object(p.jsx)(q.a,{label:"end date",style:{margin:"3px 3px 3px 0px"},format:"dd/MM/yyyy",value:te,onChange:le})]})}),Object(p.jsx)(C.a,{id:"file",className:"inputfile",type:"file",name:"photo",onChange:function(t){return function(e,t){var a=new FileReader;t("image",e.target.files[0]),0===e.target.files.length?(x(""),t("image","")):(a.readAsDataURL(e.target.files[0]),a.onloadend=function(){t("image",a.result)},x(e.target.files[0].name))}(t,e.setFieldValue)},hidden:!0}),Object(p.jsxs)(v.a,{style:{display:"block",margin:"5px 0px"},color:"primary",variant:"outlined",children:[Object(p.jsx)(E.a,{className:""}),Object(p.jsxs)("label",{htmlFor:"file",children:[O?"".concat(O," UPLOADED"):" Vacation image"," "]})]}),e.errors.photo&&e.touched.photo?Object(p.jsx)("div",{className:"error",children:e.errors.photo}):null,Object(p.jsx)(F.a,{in:G,children:Object(p.jsx)(P.a,{severity:"error",action:Object(p.jsxs)(I.a,{color:"inherit",size:"small",onClick:function(){return X(!1)},children:[" ",Object(p.jsx)(A.a,{fontSize:"inherit"})," "]}),children:L})}),Object(p.jsx)(v.a,{disabled:S,className:"my-3",variant:"contained",color:"primary",type:"submit",size:"large",children:" Update vacation "})]})}})})]})})},B=a(170),J=function(e){var t=e.addVacationModalOpen,a=e.setAddVacationModalOpen,c=Object(n.useState)(""),i=Object(s.a)(c,2),o=i[0],l=i[1],j=Object(n.useState)(""),h=Object(s.a)(j,2),O=h[0],f=h[1],y=Object(n.useState)(!1),w=Object(s.a)(y,2),S=w[0],N=w[1],D=Object(n.useState)(!1),_=Object(s.a)(D,2),R=_[0],W=_[1],L=r.a.useState(new Date),J=Object(s.a)(L,2),H=J[0],G=J[1],X=r.a.useState(new Date),K=Object(s.a)(X,2),Q=K[0],Y=K[1],Z=Object(m.b)(),$=function(){return a(!1)},ee=function(e){return G(e)},te=function(e){return Y(e)},ae=U.a().shape({description:U.c().required("description is required").min(6,"That it? write some more(min 6 characters)"),destination:U.c().required("destination is required"),price:U.c().required("price is required"),image:U.c().required("image is required")}),ne=function(e,t){return{error:!(!e.errors[t]||!e.touched[t]),helperText:e.errors[t]&&e.touched[t]?e.errors[t]:null}},re=function(){var e=Object(b.a)(u.a.mark((function e(t){var a,n,r,c,i,s,l,j;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,N(!0),a=B(Q).format("L").split("/"),n=B(H).format("L").split("/"),r=a[0],a[0]=a[1],a[1]=r,a=a.join("/"),c=n[0],n[0]=n[1],n[1]=c,n=n.join("/"),e.next=14,fetch("/vacation",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Object(d.a)(Object(d.a)({},t),{},{end_date:a,start_date:n,imageName:o}))});case 14:return i=e.sent,e.next=17,i.json();case 17:s=e.sent,l=s.vacation,j=s.error,l?(Z(x(l)),N(!1),$(),window.scrollTo(0,document.body.scrollHeight)):(f(j),W(!0),N(!1)),e.next=26;break;case 23:e.prev=23,e.t0=e.catch(0),console.log(e.t0);case 26:case"end":return e.stop()}}),e,null,[[0,23]])})));return function(t){return e.apply(this,arguments)}}();return Object(p.jsx)(p.Fragment,{children:Object(p.jsxs)(g.a,{size:"lg",style:{marginTop:"120px",paddingTop:"120px"},centered:!0,show:t,onHide:$,children:[Object(p.jsxs)(g.a.Header,{children:[" ",Object(p.jsx)(g.a.Title,{style:{fontWeight:"700"},children:" Add new vacation "})," "]}),Object(p.jsx)(g.a.Body,{children:Object(p.jsx)(M.a,{initialValues:{destination:"",description:"",start_date:"",end_date:"",price:"",image:""},onSubmit:function(e,t){var a=t.resetForm;return re(e,a)},validationSchema:ae,enableReinitialize:!0,children:function(e){return Object(p.jsxs)("form",{style:{textAlign:"center"},onSubmit:e.handleSubmit,autoComplete:"off",children:[Object(p.jsx)(k.a,Object(d.a)(Object(d.a)({margin:"normal",name:"destination",label:"Destination",variant:"outlined",fullWidth:!0},e.getFieldProps("destination")),ne(e,"destination"))),Object(p.jsx)(k.a,Object(d.a)(Object(d.a)({margin:"normal",name:"description",label:"Description",variant:"outlined",fullWidth:!0},e.getFieldProps("description")),ne(e,"description"))),Object(p.jsx)(k.a,Object(d.a)(Object(d.a)({margin:"normal",name:"price",label:"Price",variant:"outlined",fullWidth:!0},e.getFieldProps("price")),ne(e,"price"))),Object(p.jsx)(T.a,{item:!0,xs:6,children:Object(p.jsxs)(z.a,{utils:V.a,children:[Object(p.jsx)(q.a,{style:{margin:"3px 22px 12px 0px"},label:"start date",format:"dd/MM/yyyy",value:H,onChange:ee}),Object(p.jsx)(q.a,{label:"end date",style:{margin:"3px 3px 3px 0px"},format:"dd/MM/yyyy",value:Q,onChange:te})]})}),Object(p.jsx)(C.a,{id:"file",className:"inputfile",type:"file",name:"photo",onChange:function(t){return function(e,t){var a=new FileReader;t("image",e.target.files[0]),0===e.target.files.length?(l(""),t("image","")):(a.readAsDataURL(e.target.files[0]),a.onloadend=function(){t("image",a.result)},l(e.target.files[0].name))}(t,e.setFieldValue)},hidden:!0}),Object(p.jsxs)(v.a,{style:{display:"block",margin:"5px 0px"},color:"primary",variant:"outlined",children:[Object(p.jsx)(E.a,{className:""}),Object(p.jsxs)("label",{htmlFor:"file",children:[o?"".concat(o," UPLOADED"):"VACATION IMAGE"," "]})]}),e.errors.image&&e.touched.image?Object(p.jsx)("div",{className:"error",children:e.errors.image}):null,Object(p.jsx)(F.a,{in:R,children:Object(p.jsx)(P.a,{severity:"error",action:Object(p.jsxs)(I.a,{color:"inherit",size:"small",onClick:function(){return W(!1)},children:[" ",Object(p.jsx)(A.a,{fontSize:"inherit"})," "]}),children:O})}),Object(p.jsx)(v.a,{disabled:S,className:"my-3",variant:"contained",color:"primary",type:"submit",size:"large",children:" Add vacation "})]})}})})]})})},H=function(e){var t=e.deleteVacationModalOpen,a=e.setDeleteVacationModalOpen,r=e.vacationName,c=e.id,i=Object(n.useState)(!1),o=Object(s.a)(i,2),l=o[0],d=o[1],j=Object(m.b)(),h=Object(m.c)((function(e){return e.vacations.data})),x=function(){var e=Object(b.a)(u.a.mark((function e(t){var n,r,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,d(!0),e.next=4,fetch("/vacation",{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:t})});case 4:return n=e.sent,e.next=7,n.json();case 7:r=e.sent,r.success&&(c=h.filter((function(e){return e.id!==t})),j(O(c)),d(!1),a(!1)),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t){return e.apply(this,arguments)}}();return Object(p.jsxs)(g.a,{size:"md",centered:!0,show:t,onHide:function(){return a(!1)},style:{margin:"70px auto 30px",textAlign:"center"},children:[Object(p.jsx)(g.a.Header,{children:Object(p.jsxs)(g.a.Title,{style:{fontWeight:"700"},children:[" Are you sure you want to delete the wonderfull vacation to ",r," ? "]})}),Object(p.jsx)(g.a.Body,{children:Object(p.jsx)(v.a,{disabled:l,className:"my-3",variant:"contained",color:"secondary",type:"submit",size:"large",onClick:function(){return x(c)},children:" Delete vacation "})})]})},G=a(476),X=a(477),K=a(493),Q=a(478),Y=a(479),Z=a(110),$=a(480),ee=a(240),te=a.n(ee),ae=a(239),ne=a.n(ae),re=a(40),ce=Object(N.a)((function(){return{root:{display:"flex",justifyContent:"center",margin:"30px"},media:{height:"400px",width:"550px",paddingTop:"56.25%"},previewmedia:{width:"300px",height:"200px"},fab:{position:"fixed",bottom:"10px",left:"75%",whiteSpace:"nowrap",zIndex:"50px",borderRadius:"20px",backgroundColor:"lightblue"},follow:{textAlign:"right"},card:{backgroundImage:"linear-gradient(#e6ecff, #99b3ff, #ffcccc)"},title:{fontWeight:"600",fontSize:"16px"},divider:{margin:"15px 0px"}}})),ie=function(e){var t=e.vacation,a=e.editVacation,n=e.deleteVacation,r=e.setFollow,c=e.isAdmin,i=ce();return Object(p.jsx)(p.Fragment,{children:t.image&&Object(p.jsxs)(G.a,{className:i.card,children:[Object(p.jsx)(X.a,{id:"stepOne",avatar:Object(p.jsxs)(K.a,{children:[Object(p.jsx)(re.a,{cloudName:"malachcloud",src:t.image,width:"70",height:"40",crop:"scale"})," "]}),action:c?Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(I.a,{onClick:function(){return a(t.id)},children:Object(p.jsx)(ne.a,{})}),Object(p.jsx)(I.a,{onClick:function(){return n(t.id,t.destination)},children:Object(p.jsx)(te.a,{})})]}):Object(p.jsxs)(I.a,{id:"stepThree",onClick:function(){return r(t.id,t.isFollow)},children:[" ",t.isFollow?"Unfollow":"Follow"]}),title:Object(p.jsx)("span",{className:i.title,children:t.destination})}),Object(p.jsx)(Q.a,{className:i.media,image:t.image}),Object(p.jsxs)(Y.a,{id:"stepTwo",children:[Object(p.jsxs)(Z.a,{className:i.likes,children:[Object(p.jsx)("span",{className:"mini_title",children:" destination: "}),Object(p.jsxs)("span",{className:"mini_content",children:[" ",t.destination," "]})]}),Object(p.jsx)($.a,{className:i.divider}),Object(p.jsxs)(Z.a,{className:i.likes,children:[Object(p.jsx)("span",{className:"mini_title",children:" about: "}),Object(p.jsxs)("span",{className:"mini_content",children:[" ",t.description," "]})]}),Object(p.jsx)($.a,{className:i.divider}),Object(p.jsxs)(Z.a,{className:i.likes,children:[Object(p.jsx)("span",{className:"mini_title",children:" when: "}),Object(p.jsxs)("span",{className:"mini_content",children:[" ",t.start_date," - ",t.end_date," "]})]}),Object(p.jsx)($.a,{className:i.divider}),Object(p.jsxs)(Z.a,{className:i.likes,children:[Object(p.jsx)("span",{className:"mini_title",children:" price: "}),Object(p.jsxs)("span",{className:"mini_content",children:[t.price,"$ for each person "]})]}),Object(p.jsx)(Z.a,{className:i.follow,children:Object(p.jsxs)("span",{className:"mini_title",children:[" ",t.Follows.length," Followers "]})})]})]})})},se=a(481),oe=a(486),le=a(242),de=a.n(le),je=a(241),ue=(a(420),a(421),Object(N.a)((function(e){return{root:{display:"flex",justifyContent:"center",margin:"30px"},previewcard:{width:"300px",height:"340px",margin:"auto"},media:{height:"400px",width:"550px",paddingTop:"56.25%"},previewmedia:{width:"300px",height:"200px"},fab:{position:"fixed",bottom:"10px",left:"75%",whiteSpace:"nowrap",zIndex:"50px",borderRadius:"20px",backgroundColor:"lightblue"},follow:{textAlign:"right"},card:{backgroundImage:"linear-gradient(#e6ecff, #99b3ff, #ffcccc)"},title:{fontWeight:"600",fontSize:"16px"},divider:{margin:"15px 0px"}}}))),be=function(){var e=ue(),t=JSON.parse(localStorage.getItem("user")),a=Object(m.b)(),r=Object(m.c)((function(e){return e.vacations.data})),c=Object(n.useState)(t?t.admin:null),i=Object(s.a)(c,2),o=i[0],l=(i[1],Object(n.useState)(!1)),d=Object(s.a)(l,2),j=d[0],h=d[1],x=Object(n.useState)(""),f=Object(s.a)(x,2),g=f[0],v=f[1],y=Object(n.useState)(!1),w=Object(s.a)(y,2),N=w[0],k=w[1],C=Object(n.useState)(!1),F=Object(s.a)(C,2),I=F[0],D=F[1],A=Object(n.useState)(""),_=Object(s.a)(A,2),E=_[0],P=_[1],V=Object(n.useState)(""),z=Object(s.a)(V,2),q=z[0],M=z[1],U=Object(n.useState)(!1),R=Object(s.a)(U,2),W=R[0],B=R[1],G=Object(n.useState)(!1),X=Object(s.a)(G,2),K=X[0],Q=X[1],Y=Object(n.useState)(0),Z=Object(s.a)(Y,2),$=Z[0],ee=(Z[1],Object(n.useState)([{element:"#stepOne",intro:"Take a look on the vacation we offer \ud83e\udd73",position:"left",tooltipClass:"myTooltipClass"},{element:"#stepTwo",intro:"In each card you are able to see all the details about the vacation \ud83e\udd73",position:"left",tooltipClass:"myTooltipClass"},{element:"#stepThree",intro:"Start following vacations to get them on top of your page \ud83d\ude0e",position:"left",tooltipClass:"myTooltipClass"},{element:"#stepFour",intro:'Try to serach for your dreamy vacation, use the "search by" tab to take more specific search \ud83d\udd0d',position:"left",tooltipClass:"myTooltipClass"}])),te=Object(s.a)(ee,2),ae=te[0],ne=(te[1],function(){var e=Object(b.a)(u.a.mark((function e(t,a){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{M(t),P(a),D(!0)}catch(n){console.log(n)}case 1:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()),re=function(){var e=Object(b.a)(u.a.mark((function e(){var n,r,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/vacation");case 3:return n=e.sent,e.next=6,n.json();case 6:r=e.sent,(c=r.vacations).forEach((function(e){return Boolean(e.Follows.find((function(e){return Number(e.UserId)===Number(t.id)})))?e.isFollow=!0:e.isFollow=!1})),c.sort((function(e,t){return e.isFollow-t.isFollow})).reverse(),a(O(c)),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),console.log(e.t0);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}(),ce=function(){var e=Object(b.a)(u.a.mark((function e(n,c){var i,s,o,l,d,j;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,c){e.next=12;break}return e.next=4,fetch("/follow",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({VacationId:n,UserId:t.id})});case 4:return i=e.sent,e.next=7,i.json();case 7:s=e.sent,s.follow&&((o=r.find((function(e){return e.id===n}))).isFollow=!0,o.Follows.push({UserId:t.id,VacationId:n}),a(O(r))),e.next=20;break;case 12:return e.next=14,fetch("/follow/unfollow",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({VacationId:n,UserId:t.id})});case 14:return l=e.sent,e.next=17,l.json();case 17:d=e.sent,d.follow&&((j=r.find((function(e){return e.id===n}))).isFollow=!1,j.Follows=j.Follows.filter((function(e){return!(e.UserId===t.id&&e.VacationId===n)})),a(O(r)));case 20:e.next=25;break;case 22:e.prev=22,e.t0=e.catch(0),console.log(e.t0);case 25:case"end":return e.stop()}}),e,null,[[0,22]])})));return function(t,a){return e.apply(this,arguments)}}(),le=function(e){v(e),h(!0)};return Object(n.useEffect)((function(){re(),t.newUser&&(B(!0),delete t.newUser,localStorage.setItem("user",JSON.stringify(t)))}),[]),Object(p.jsxs)(p.Fragment,{children:[W?Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(S,{stepsEnabled:K,setStepsEnabled:Q}),Object(p.jsx)(je.Steps,{enabled:K,steps:ae,initialStep:$,onExit:function(){Q(!1),B(!1)}})]}):null,Object(p.jsx)(oe.b,{injectFirst:!0,children:Object(p.jsx)("div",{className:"container",children:Object(p.jsxs)(T.a,{container:!0,children:[r&&0!==r.length?r.map((function(t){return Object(p.jsx)(T.a,{item:!0,xs:11,lg:5,className:e.root,children:Object(p.jsx)(ie,{vacation:t,editVacation:le,deleteVacation:ne,setFollow:ce,isAdmin:o})},t.id)})):null,t.admin&&Object(p.jsx)(se.a,{color:"primary",className:e.fab,onClick:function(){return k(!0)},title:"Add new vacation",children:Object(p.jsx)(de.a,{})}),N&&Object(p.jsx)(J,{addVacationModalOpen:N,setAddVacationModalOpen:k}),g&&Object(p.jsx)(L,{setEditModalOpen:h,editModalOpen:j,vacationToEdit:g}),I&&Object(p.jsx)(H,{deleteVacationModalOpen:I,setDeleteVacationModalOpen:D,vacationName:E,id:q})]})})})]})},pe=a(62),he=a(482),me=(a(422),Object(N.a)((function(e){return{paper:{margin:"16px",border:"1px solid lightgrey",padding:e.spacing(1),backgroundColor:"white"},divider:{background:"black"}}}))),Oe=function(e){e.vacations;var t=e.anchorEl,a=e.open,n=e.setAnchorEl,r=e.setSearchBy,c=me(),i=function(e){r(e),n(null)};return Object(p.jsx)("div",{children:Object(p.jsxs)(he.a,{className:c.paper,open:a,anchorEl:t,style:{width:"300px"},children:[Object(p.jsx)("div",{className:"vacationDiv",children:Object(p.jsx)(v.a,{onClick:function(){return i("General")},children:Object(p.jsx)("div",{className:"sort_type",children:"General"})})}),Object(p.jsx)("div",{className:"vacationDiv",children:Object(p.jsx)(v.a,{onClick:function(){return i("Dates")},children:Object(p.jsx)("div",{className:"sort_type",children:"Dates"})})}),Object(p.jsx)("div",{className:"vacationDiv",children:Object(p.jsx)(v.a,{onClick:function(){return i("description")},children:Object(p.jsx)("div",{className:"sort_type",children:"Description"})})}),Object(p.jsx)("div",{className:"vacationDiv",children:Object(p.jsx)(v.a,{onClick:function(){return i("destination")},children:Object(p.jsx)("div",{className:"sort_type",children:"Destination"})})})]})})},xe=a(442),fe=a(244),ge=a.n(fe),ve=a(245),ye=a.n(ve),we=(a(423),Object(N.a)((function(e){return{search:Object(pe.a)({display:"flex",position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:"whitesmoke",marginRight:e.spacing(2),marginLeft:e.spacing(2),width:"150px"},e.breakpoints.up("sm"),{width:"auto"}),searchIcon:{padding:e.spacing(0,2),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:"inherit",fontSize:"13px"},inputInput:Object(pe.a)({padding:e.spacing(1,1,1,0),paddingLeft:"calc(1em + ".concat(e.spacing(4),"px)"),transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("md"),{width:"20ch"}),sortBtn:{padding:"0px 8px 8px"}}}))),Se=function(){var e=Object(n.useState)(""),t=Object(s.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)("General"),i=Object(s.a)(c,2),o=i[0],l=i[1],d=Object(n.useState)(null),j=Object(s.a)(d,2),h=j[0],x=j[1],f=Object(n.useState)(new Date),g=Object(s.a)(f,2),y=g[0],w=g[1],S=Object(n.useState)(new Date),N=Object(s.a)(S,2),k=N[0],T=N[1],C=JSON.parse(localStorage.getItem("user")),F=Object(m.b)(),D=Object(m.c)((function(e){return e.vacations.data})),A=we(),_=Boolean(h),E=function(){var e=Object(b.a)(u.a.mark((function e(){var t,n,r,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"",t={value:"Dates"===o?{startDate:y,endDate:k}:a,type:o},e.next=5,fetch("/vacation/search/".concat(JSON.stringify(t)));case 5:return n=e.sent,e.next=8,n.json();case 8:r=e.sent,(c=r.vacations).forEach((function(e){return Boolean(e.Follows.find((function(e){return Number(e.UserId)===Number(C.id)})))?e.isFollow=!0:e.isFollow=!1})),c.sort((function(e,t){return e.isFollow-t.isFollow})).reverse(),F(O(c));case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){"Dates"===o?y.getDate()!==(new Date).getDate()||y.getMonth()!==(new Date).getMonth()||k.getDate()!==(new Date).getDate()||k.getMonth()!==(new Date).getMonth()?E():console.log("not searching"):E()}),[a,o,y,k]),Object(n.useEffect)((function(){r("")}),[o]),Object(p.jsx)(p.Fragment,{children:Object(p.jsxs)("div",{className:A.search,id:"stepFour",children:[Object(p.jsx)("div",{className:A.searchIcon,children:"Dates"!==o?Object(p.jsx)(ge.a,{}):null}),"Dates"===o?Object(p.jsxs)(z.a,{utils:V.a,children:[Object(p.jsx)(q.a,{label:"start date",format:"dd/MM/yyyy",value:y,onChange:function(e){return w(e)}}),Object(p.jsx)(q.a,{label:"end date",format:"dd/MM/yyyy",value:k,onChange:function(e){return T(e)}})]}):Object(p.jsx)(xe.a,{type:"text",value:a,onChange:function(e){return r(e.target.value)},placeholder:"Search\u2026",classes:{root:A.inputRoot,input:A.inputInput}}),Object(p.jsxs)("div",{className:"sort_btn_div",children:[Object(p.jsx)("span",{className:"sort_span",children:"search by"}),Object(p.jsxs)(v.a,{className:A.sortBtn,onClick:function(e){return x(_?null:e.currentTarget)},children:[" ",o," "]})]}),Object(p.jsxs)(I.a,{onClick:function(){return r("")},children:[" ",Object(p.jsx)(ye.a,{fontSize:"small"})," "]}),Object(p.jsx)(Oe,{vacations:D,open:_,anchorEl:h,setAnchorEl:x,setSearchBy:l})]})})},Ne=a(489),ke=a(487),Te=a(246),Ce=a.n(Te),Fe=a(247),Ie=a.n(Fe),De=a(248),Ae=a.n(De),_e=(a(424),Object(N.a)((function(e){var t;return{searchLink:Object(pe.a)({},e.breakpoints.up("md"),{margin:"0px 70px",width:"auto"}),title:(t={display:"none"},Object(pe.a)(t,e.breakpoints.up("md"),{display:"flex"}),Object(pe.a)(t,"marginRight","35%"),t),helloUser:Object(pe.a)({margin:"auto 15px",width:"165px",fontWeight:"600",color:"black"},e.breakpoints.down("md"),{display:"none"})}}))),Ee=function(){var e=JSON.parse(localStorage.getItem("user")),t=Object(n.useState)(e.username),a=Object(s.a)(t,2),r=a[0],c=(a[1],_e());return Object(p.jsx)("div",{className:c.grow,children:Object(p.jsx)("div",{className:"container-fluid bg-white",children:Object(p.jsx)("div",{className:"container",children:Object(p.jsxs)(Ne.a,{bg:"white",expand:"md",className:"navbar",children:[Object(p.jsx)(Ne.a.Brand,{children:Object(p.jsx)(o.b,{to:"/",style:{textDecoration:"none",marginRight:"25%"},children:Object(p.jsx)(Z.a,{className:c.title,variant:"h6",noWrap:!0,children:Object(p.jsx)(re.a,{cloudName:"malachcloud",src:"https://res.cloudinary.com/malachcloud/image/upload/v1618384622/summer-hot-vacation-logo-illustration-art-isolated-background-91286774_syvpkz.jpg",width:"70",height:"40",crop:"scale"})})})}),Object(p.jsx)(Ne.a.Toggle,{}),Object(p.jsx)(Ne.a.Collapse,{className:"navbar_collapse",id:"basic-navbar-nav",children:Object(p.jsxs)(ke.a,{className:"mr-auto",children:[Object(p.jsxs)(ke.a.Link,{className:c.searchLink,children:["  ",Object(p.jsx)(Se,{})," "]}),Object(p.jsxs)("div",{className:c.helloUser,children:["  Hello ",r," "]}),Object(p.jsx)(ke.a.Link,{children:Object(p.jsx)(o.b,{to:"/",style:{textDecoration:"none",color:"black",marginTop:"7px"},children:Object(p.jsxs)(I.a,{color:"inherit",children:[Object(p.jsx)(Ce.a,{fontSize:"large"})," ",Object(p.jsx)("span",{className:"link_desc",children:"Home"})]})})}),Object(p.jsx)(ke.a.Link,{children:e.admin&&Object(p.jsx)(o.b,{to:"/chart",style:{textDecoration:"none",color:"black",marginTop:"7px"},children:Object(p.jsxs)(I.a,{color:"inherit",children:[Object(p.jsx)(Ie.a,{fontSize:"large"})," ",Object(p.jsx)("span",{className:"link_desc",children:"Chart"})]})})}),Object(p.jsx)(ke.a.Link,{children:Object(p.jsx)(o.b,{to:"/logout",style:{textDecoration:"none",color:"black",marginTop:"7px"},children:Object(p.jsxs)(I.a,{color:"inherit",children:[Object(p.jsx)(Ae.a,{fontSize:"large"})," ",Object(p.jsx)("span",{className:"link_desc",children:"Logout"})]})})})]})})]})})})})},Pe=function(e){var t=e.setIsAuth,a=Object(l.f)(),r=function(){var e=Object(b.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(!1),localStorage.removeItem("user"),e.next=4,fetch("/auth/logout");case 4:a.push("/signin");case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){r()}),[]),null},Ve=a.p+"static/media/signPhoto.16e90d9a.png",ze=a(490),qe=a(440),Me=a(474),Ue=a(483),Re=a(120),We=a.n(Re),Le=a(119),Be=a.n(Le),Je=a(63),He=(a(427),Object(N.a)((function(e){return{root:{marginTop:"20px"},image:{position:"relative",backgroundImage:"url(".concat(Ve,")"),backgroundRepeat:"no-repeat",alignSelf:"center",backgroundPosition:"0 0",backgroundSize:"454px 618px",flexBasis:"454px",height:"618px"},slider:{width:"54%",margin:"99px 0 0 151px",position:"relative",left:"-3px",bottom:"3px"},formGrid:{margin:"70px 15px "},paper:{margin:e.spacing(8,4),display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}))),Ge=function(e){var t=e.setIsAuth,a=Object(n.useState)(""),r=Object(s.a)(a,2),c=r[0],i=r[1],o=Object(n.useState)(!1),j=Object(s.a)(o,2),h=j[0],O=j[1],x=Object(n.useState)(!1),f=Object(s.a)(x,2),g=f[0],y=f[1],w=Object(l.f)(),S=Object(m.b)(),N=He(),C=Object(M.b)({initialValues:{email:"",password:""},validationSchema:U.a({username:U.c().required("sorry username is required"),password:U.c().required("password is required").min(6,"password have to be at least 6 characters long")}),onSubmit:function(e,t){t.resetForm;_(e)}}),D=function(e,t){return{error:!(!e.errors[t]||!e.touched[t]),helperText:e.errors[t]&&e.touched[t]?e.errors[t]:null}},_=function(){var e=Object(b.a)(u.a.mark((function e(a){var n,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});case 3:return n=e.sent,e.next=6,n.json();case 6:(r=e.sent).success?(localStorage.setItem("user",JSON.stringify(r.user)),S({type:"AUTH_USER",payload:r.user}),t(!0),w.push("/")):(i(r.error),O(!0)),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}();return Object(p.jsxs)(T.a,{container:!0,className:N.root,children:[Object(p.jsx)(T.a,{item:!0,xs:2}),Object(p.jsx)(ze.a,{mdDown:!0,children:Object(p.jsx)(T.a,{item:!0,md:4,className:N.image,children:Object(p.jsxs)(Je.a,{fade:!0,className:N.slider,interval:2e3,children:[Object(p.jsx)(Je.a.Item,{children:Object(p.jsx)(re.a,{src:"https://res.cloudinary.com/malachcloud/image/upload/v1618328411/Vacation_gn31mm.jpg",height:"435",width:"245",crop:"scale"})}),Object(p.jsx)(Je.a.Item,{children:Object(p.jsx)(re.a,{src:"https://res.cloudinary.com/malachcloud/image/upload/v1618586733/abqc5fwzhygawexvo25p.jpg",height:"435",width:"245",crop:"scale"})}),Object(p.jsx)(Je.a.Item,{children:Object(p.jsx)(re.a,{src:"https://res.cloudinary.com/malachcloud/image/upload/v1618329761/398bc8f537681ee210a06f06ecc199ec_easo8x.jpg",height:"435",width:"245",crop:"scale"})})]})})}),Object(p.jsx)(T.a,{item:!0,xs:12,sm:12,lg:4,component:qe.a,square:!0,className:N.formGrid,children:Object(p.jsxs)("div",{className:N.paper,children:[Object(p.jsx)(re.a,{cloudName:"malachcloud",src:"https://res.cloudinary.com/malachcloud/image/upload/v1618384622/summer-hot-vacation-logo-illustration-art-isolated-background-91286774_syvpkz.jpg",width:"100",height:"100",crop:"scale"}),Object(p.jsxs)("form",{className:N.form,noValidate:!0,onSubmit:C.handleSubmit,children:[Object(p.jsx)(k.a,Object(d.a)(Object(d.a)({variant:"outlined",margin:"normal",fullWidth:!0,label:"user name",name:"email",autoFocus:!0},C.getFieldProps("username")),D(C,"username"))),Object(p.jsx)(k.a,Object(d.a)(Object(d.a)({InputProps:{endAdornment:Object(p.jsx)(Me.a,{position:"end",children:Object(p.jsxs)(I.a,{onClick:function(){y(!g)},children:[" ",g?Object(p.jsx)(Be.a,{}):Object(p.jsx)(We.a,{}),"  "]})})},variant:"outlined",margin:"normal",fullWidth:!0,name:"password",label:"Password",type:g?"text":"password"},C.getFieldProps("password")),D(C,"password"))),Object(p.jsx)(F.a,{in:h,children:Object(p.jsx)(P.a,{severity:"error",action:Object(p.jsxs)(I.a,{color:"inherit",size:"small",onClick:function(){return O(!1)},children:[" ",Object(p.jsx)(A.a,{fontSize:"inherit"})," "]}),children:c})}),Object(p.jsx)(v.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:N.submit,children:" Sign In "}),Object(p.jsx)(T.a,{container:!0,children:Object(p.jsx)(T.a,{item:!0,children:Object(p.jsx)(Ue.a,{href:"/signup",variant:"body2",children:" Don't have an account? Sign Up "})})})]})]})}),Object(p.jsx)(T.a,{item:!0,xs:2})]})},Xe=a(251),Ke=(a(428),Object(N.a)((function(e){return{root:{marginTop:"20px"},image:{position:"relative",backgroundImage:"url(".concat(Ve,")"),backgroundRepeat:"no-repeat",alignSelf:"center",backgroundPosition:"0 0",backgroundSize:"454px 618px",flexBasis:"454px",height:"618px"},slider:{width:"54%",margin:"99px 0 0 151px",position:"relative",left:"-3px",bottom:"3px"},formGrid:{margin:"70px 15px"},paper:{margin:e.spacing(3,4),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},profileBtn:{paddingTop:"10px",marginTop:"10px",marginBottom:"10px"},imageIcon:{marginBottom:"8px",marginRight:"5px"},nameTextField:{marginRight:"4px"},submit:{margin:e.spacing(3,0,2)}}}))),Qe=function(e){var t=e.setIsAuth,a=Object(n.useState)(""),r=Object(s.a)(a,2),c=r[0],i=r[1],o=Object(n.useState)(!1),j=Object(s.a)(o,2),h=j[0],m=j[1],O=Object(n.useState)(!1),x=Object(s.a)(O,2),f=x[0],g=x[1],y=Object(n.useState)(!1),w=Object(s.a)(y,2),S=w[0],N=w[1],C=Ke(),D=Object(n.useRef)(),_=Object(l.f)(),E=U.a().shape({firstname:U.c().required("first name is required!"),lastname:U.c().required("last name is required!"),username:U.c().required("user name is required!"),password:U.c().required("password is required!").min(6,"password have to be at least 6 characters long"),confirmPassword:U.c().required("confirm your password!").oneOf([U.b("password"),null],"Passwords must match")}),V=function(e,t){return{error:!(!e.errors[t]||!e.touched[t]),helperText:e.errors[t]&&e.touched[t]?e.errors[t]:null}},z=function(){g(!f)},q=function(){N(!S)},R=function(){var e=Object(b.a)(u.a.mark((function e(a){var n,r,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,D.current.getValue();case 3:return n=e.sent,e.next=6,fetch("/auth/signup",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Object(d.a)(Object(d.a)({},a),{},{token:n}))});case 6:return r=e.sent,e.next=9,r.json();case 9:c=e.sent,D.current.reset(),c.user?(localStorage.setItem("user",JSON.stringify(Object(d.a)(Object(d.a)({},c.user),{},{newUser:!0}))),t(!0),_.push("/")):(i(c.error),m(!0)),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),console.error(e.t0);case 17:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(t){return e.apply(this,arguments)}}();return Object(p.jsxs)(T.a,{container:!0,className:C.root,children:[Object(p.jsxs)(ze.a,{mdDown:!0,children:[Object(p.jsx)(T.a,{item:!0,xs:1,md:2}),Object(p.jsx)(T.a,{item:!0,xs:2,lg:4,className:C.image,children:Object(p.jsxs)(Je.a,{fade:!0,className:C.slider,interval:2e3,children:[Object(p.jsx)(Je.a.Item,{children:Object(p.jsx)(re.a,{src:"https://res.cloudinary.com/malachcloud/image/upload/v1618328411/Vacation_gn31mm.jpg",height:"435",width:"250",crop:"scale"})}),Object(p.jsx)(Je.a.Item,{children:Object(p.jsx)(re.a,{src:"https://res.cloudinary.com/malachcloud/image/upload/v1618586733/abqc5fwzhygawexvo25p.jpg",height:"435",width:"250",crop:"scale"})}),Object(p.jsx)(Je.a.Item,{children:Object(p.jsx)(re.a,{src:"https://res.cloudinary.com/malachcloud/image/upload/v1618329761/398bc8f537681ee210a06f06ecc199ec_easo8x.jpg",height:"435",width:"250",crop:"scale"})})]})})]}),Object(p.jsx)(T.a,{item:!0,xs:12,lg:4,component:qe.a,elevation:6,square:!0,className:C.formGrid,children:Object(p.jsxs)("div",{className:C.paper,children:[Object(p.jsx)(re.a,{cloudName:"malachcloud",src:"https://res.cloudinary.com/malachcloud/image/upload/v1618384622/summer-hot-vacation-logo-illustration-art-isolated-background-91286774_syvpkz.jpg",width:"100",height:"100",crop:"scale"}),Object(p.jsx)(M.a,{initialValues:{username:"",password:"",firstname:"",lastname:""},onSubmit:function(e,t){var a=t.resetForm;return R(e,a)},validationSchema:E,enableReinitialize:!0,children:function(e){return Object(p.jsxs)("form",{style:{textAlign:"center"},onSubmit:e.handleSubmit,autoComplete:"off",children:[Object(p.jsxs)("div",{style:{display:"flex"},children:[Object(p.jsx)(k.a,Object(d.a)(Object(d.a)({className:C.nameTextField,name:"firstname",margin:"normal",label:"First name",variant:"outlined",fullWidth:!0},e.getFieldProps("firstname")),V(e,"firstname"))),Object(p.jsx)(k.a,Object(d.a)(Object(d.a)({name:"lastname",margin:"normal",label:"Last name",variant:"outlined",fullWidth:!0},e.getFieldProps("lastname")),V(e,"lastname")))]}),Object(p.jsx)(k.a,Object(d.a)(Object(d.a)({name:"username",margin:"normal",label:"User name",variant:"outlined",fullWidth:!0},e.getFieldProps("username")),V(e,"username"))),Object(p.jsx)(k.a,Object(d.a)(Object(d.a)(Object(d.a)({type:f?"text":"password",variant:"outlined",margin:"normal",fullWidth:!0,name:"password",label:"Password"},e.getFieldProps("password")),V(e,"password")),{},{InputProps:{endAdornment:Object(p.jsx)(Me.a,{position:"end",children:Object(p.jsxs)(I.a,{onClick:z,children:[" ",f?Object(p.jsx)(Be.a,{}):Object(p.jsx)(We.a,{}),"  "]})})}})),Object(p.jsx)(k.a,Object(d.a)(Object(d.a)(Object(d.a)({type:S?"text":"password",variant:"outlined",margin:"normal",fullWidth:!0,name:"confirmPassword",label:"Confirm Password"},e.getFieldProps("confirmPassword")),V(e,"confirmPassword")),{},{InputProps:{endAdornment:Object(p.jsx)(Me.a,{position:"end",children:Object(p.jsxs)(I.a,{onClick:q,children:[" ",S?Object(p.jsx)(Be.a,{}):Object(p.jsx)(We.a,{}),"  "]})})}})),Object(p.jsx)(Xe.a,{style:{margin:"10px 0px"},sitekey:"6LfruZ4aAAAAAAFNEQG6lPJLbJVjEThKg2DJdjEi",ref:D}),Object(p.jsx)(F.a,{in:h,children:Object(p.jsx)(P.a,{severity:"error",action:Object(p.jsxs)(I.a,{color:"inherit",size:"small",onClick:function(){return m(!1)},children:[" ",Object(p.jsx)(A.a,{fontSize:"inherit"})," "]}),children:c})}),Object(p.jsx)(v.a,{className:"my-3",variant:"contained",color:"primary",type:"submit",size:"large",fullWidth:!0,children:" Sign up "}),Object(p.jsx)(T.a,{container:!0,children:Object(p.jsx)(T.a,{item:!0,children:Object(p.jsx)(Ue.a,{href:"/signin",variant:"body2",children:" Already have an account? Sign In "})})})]})}})]})}),Object(p.jsx)(T.a,{item:!0,xs:2})]})},Ye=a(249),Ze=function(){var e=Object(n.useState)({}),t=Object(s.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)([]),i=Object(s.a)(c,2),o=i[0],l=i[1],d=Object(n.useState)([]),j=Object(s.a)(d,2),h=j[0],m=j[1],O=Object(n.useState)([]),x=Object(s.a)(O,2),f=x[0],g=x[1],v=function(){var e=Object(b.a)(u.a.mark((function e(){var t,a,n,r,c,i;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/vacation");case 2:return t=e.sent,e.next=5,t.json();case 5:a=e.sent,n=a.vacations,r=[],c=[],i=[],n.forEach((function(e){0!==e.Follows.length&&(r.push(e.destination),c.push(e.Follows.length),i.push("#"+((1<<24)*Math.random()|0).toString(16)))})),l(r),m([].concat(c,[0])),g(i);case 14:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){v()}),[]);return Object(n.useEffect)((function(){r({labels:o,datasets:[{label:"Vacation follows chart",data:h,backgroundColor:f,borderColor:"#fff",borderWidth:2,hoverBorderColor:"#000"}]})}),[f]),Object(p.jsx)(T.a,{container:!0,children:Object(p.jsx)(T.a,{item:!0,xs:10,md:8,style:{margin:"50px auto"},children:Object(p.jsx)(Ye.Bar,{data:a,options:{responsive:!0,title:{text:"Vacation follows chart",display:!0}}})})})},$e=function(){var e=Object(n.useState)(!1),t=Object(s.a)(e,2),a=t[0],r=t[1];return Object(p.jsx)(p.Fragment,{children:Object(p.jsxs)(o.a,{children:[a&&Object(p.jsx)(Ee,{}),Object(p.jsxs)(l.c,{children:[Object(p.jsx)(l.a,{path:"/signin",render:function(){return Object(p.jsx)(Ge,{setIsAuth:r})}}),Object(p.jsx)(l.a,{path:"/signup",render:function(){return Object(p.jsx)(Qe,{setIsAuth:r})}}),Object(p.jsx)(l.a,{path:"/chart",component:h(Ze,r)}),Object(p.jsx)(l.a,{path:"/logout",render:function(){return Object(p.jsx)(Pe,{setIsAuth:r})}}),Object(p.jsx)(l.a,{path:"/",component:h(be,r)})]})]})})},et=(a(437),a(79)),tt=a(250),at=a(34);var nt=Object(et.c)({users:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{data:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"AUTH_USER":return Object(d.a)(Object(d.a)({},e),{},{data:Object(d.a)({},t.payload)});default:return e}},vacations:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{data:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_VACATIONS":return Object(d.a)(Object(d.a)({},e),{},{data:Object(at.a)(t.payload)});case"ADD_VACATION":return Object(d.a)(Object(d.a)({},e),{},{data:[].concat(Object(at.a)(e.data),[t.payload])});case"UPDATE_VACATION":return Object(d.a)(Object(d.a)({},e),{},{data:Object(at.a)(t.payload)});default:return e}}}),rt=function(){var e="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||et.d;return Object(et.e)(nt,e(Object(et.a)(tt.a)))};i.a.render(Object(p.jsx)(r.a.StrictMode,{children:Object(p.jsx)(m.a,{store:rt(),children:Object(p.jsx)($e,{})})}),document.getElementById("root"))}},[[438,1,2]]]);
//# sourceMappingURL=main.952b2ded.chunk.js.map